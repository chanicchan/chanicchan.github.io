<!DOCTYPE html>
<html>
<head>
    <title>Game Host</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; }
        #player-list { font-size: 2em; color: #333; }
        .player-card { border: 1px solid #ddd; padding: 10px; margin: 10px; display: inline-block; }
    </style>
</head>
<body>
    <h1>Join the Game!</h1>
    <p>Room Code: <b>DEMO1</b></p>
    <hr>
    <div id="player-list">Waiting for players...</div>

    <script type="module">
        // 1. Import Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

                // 2. Paste the SAME Firebase Config here
const firebaseConfig = {
  apiKey: "AIzaSyDlKJOPmKPTn7kVk9MoFH8YPXkG_177npg",
  authDomain: "multiple-choice-fd175-default-rtdb.firebaseio.com",
  projectId: "multiple-choice-fd175",
  storageBucket: "multiple-choice-fd175-default-rtdb.asia-southeast1.firebasedatabase.app",
  messagingSenderId: "1035663046842",
  appId: "1:1035663046842:web:7e46c2e92f32a0e797ea83",
  measurementId: "G-JXV0KQYT9R"
};


        // 3. Initialize
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // 4. Listen for changes in the 'players' part of the database
        const playersRef = ref(db, 'games/DEMO1/players');

        onValue(playersRef, (snapshot) => {
            const data = snapshot.val();
            const listElement = document.getElementById('player-list');
            
            if (data) {
                // Clear current list and rebuild it
                listElement.innerHTML = '';
                Object.values(data).forEach(player => {
                    listElement.innerHTML += `<div class="player-card">${player.name}</div>`;
                });
            } else {
                listElement.innerHTML = 'Waiting for players...';
            }
        });
    </script>
</body>
</html>